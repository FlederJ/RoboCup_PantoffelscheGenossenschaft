import matplotlib.pyplot as plt
from datetime import datetime

data = """
15:38:54.632 -> 1720,1419,1128,1169,1434,1904,
15:38:54.632 -> 1703,1411,1122,1166,1425,1887,
15:38:54.723 -> 1692,1405,1119,1164,1417,1876,
15:38:54.815 -> 1717,1418,1128,1170,1430,1907,
15:38:54.937 -> 1717,1418,1126,1168,1435,1898,
15:38:55.028 -> 1701,1408,1122,1164,1423,1876,
15:38:55.122 -> 1713,1414,1126,1168,1432,1897,
15:38:55.247 -> 1713,1414,1122,1166,1428,1891,
15:38:55.339 -> 1704,1411,1122,1164,1423,1882,
15:38:55.432 -> 1712,1416,1127,1168,1430,1896,
15:38:55.552 -> 1720,1421,1127,1174,1435,1910,
15:38:55.644 -> 1714,1416,1127,1168,1430,1892,
15:38:55.736 -> 1708,1415,1126,1168,1432,1892,
15:38:55.859 -> 1723,1421,1128,1172,1436,1910,
15:38:55.967 -> 1721,1421,1129,1173,1432,1899,
15:38:56.058 -> 1695,1408,1122,1166,1422,1885,
15:40:11.786 -> 1712,1416,1126,1170,1431,1899,
15:40:11.877 -> 1703,1408,1122,1164,1420,1884,
15:40:12.001 -> 1686,1402,1119,1160,1416,1866,
15:40:12.093 -> 1701,1408,1122,1164,1426,1888,
15:40:12.204 -> 1713,1417,1124,1168,1429,1897,
15:40:12.296 -> 1689,1405,1119,1158,1416,1869,
15:40:12.420 -> 1688,1401,1118,1159,1419,1869,
15:40:12.513 -> 1720,1421,1126,1171,1432,1904,
15:40:12.605 -> 1703,1411,1122,1164,1426,1881,
15:40:12.731 -> 1676,1392,1112,1153,1407,1854,
15:40:12.808 -> 1710,1414,1125,1175,1432,1900,
15:40:12.931 -> 1717,1421,1129,1171,1435,1901,
15:40:13.043 -> 1686,1402,1119,1163,1416,1866,
15:40:13.132 -> 1693,1400,1117,1159,1415,1871,
15:40:13.225 -> 1722,1420,1130,1169,1435,1906,
15:40:13.347 -> 1693,1405,1119,1161,1420,1874,
15:40:13.440 -> 1685,1398,1115,1160,1416,1874,
15:40:13.519 -> 1711,1415,1134,1165,1427,1898,
15:40:25.598 -> 1684,1400,1116,1160,1415,1865,
15:40:25.705 -> 1704,1407,1119,1163,1425,1885,
15:40:25.814 -> 1709,1413,1122,1169,1425,1892,
15:40:25.906 -> 1687,1400,1117,1159,1418,1865,
15:40:26.000 -> 1699,1409,1121,1163,1420,1883,
15:40:26.124 -> 1717,1417,1125,1173,1432,1901,
15:40:26.216 -> 1694,1404,1121,1163,1425,1875,
15:40:26.325 -> 1692,1403,1120,1162,1420,1876,
15:40:26.416 -> 1716,1420,1125,1170,1434,1903,
15:40:26.509 -> 1701,1411,1122,1163,1425,1884,
15:40:26.633 -> 1682,1398,1115,1160,1419,1863,
15:40:26.726 -> 1700,1406,1117,1161,1420,1884,
15:40:26.820 -> 1707,1414,1122,1164,1428,1890,
15:40:26.946 -> 1680,1399,1114,1158,1411,1861,
15:40:27.039 -> 1692,1402,1117,1158,1417,1873,
15:40:27.131 -> 1713,1417,1122,1167,1428,1898,
15:40:27.256 -> 1698,1408,1122,1166,1422,1885,
15:40:37.969 -> 1694,1407,1117,1161,1419,1875,
15:40:38.046 -> 1687,1400,1117,1159,1415,1868,
15:40:38.170 -> 1702,1406,1120,1161,1420,1883,
15:40:38.278 -> 1707,1414,1122,1175,1426,1888,
15:40:38.357 -> 1683,1396,1113,1158,1414,1861,
15:40:38.480 -> 1700,1407,1118,1162,1424,1885,
15:40:38.572 -> 1712,1413,1124,1165,1430,1896,
15:40:38.663 -> 1690,1403,1118,1163,1415,1871,
15:40:38.787 -> 1689,1399,1119,1160,1420,1868,
15:40:38.879 -> 1714,1415,1126,1168,1433,1898,
15:40:38.989 -> 1701,1411,1121,1163,1426,1882,
15:40:39.081 -> 1680,1396,1113,1158,1408,1861,
15:40:39.206 -> 1709,1414,1122,1166,1428,1892,
15:40:39.297 -> 1709,1413,1124,1165,1427,1893,
15:40:39.391 -> 1684,1403,1118,1160,1417,1865,
15:40:39.515 -> 1698,1407,1121,1165,1424,1888,
15:40:39.593 -> 1739,1434,1143,1184,1458,1935,
15:40:39.718 -> 1699,1406,1121,1166,1420,1877,
15:40:45.581 -> 1724,1401,1118,1159,1413,1865,
15:40:45.660 -> 1695,1405,1118,1160,1422,1879,
15:40:45.799 -> 1712,1416,1125,1169,1431,1900,
15:40:45.877 -> 1697,1407,1121,1163,1419,1877,
15:40:46.001 -> 1681,1397,1114,1156,1409,1859,
15:40:46.094 -> 1711,1413,1124,1168,1430,1898,
15:40:46.187 -> 1711,1415,1126,1170,1432,1895,
15:40:46.310 -> 1710,1420,1134,1176,1443,1903,
15:40:46.402 -> 1704,1411,1121,1163,1426,1888,
15:40:46.525 -> 1716,1422,1127,1169,1434,1903,
15:40:46.617 -> 1689,1402,1116,1160,1414,1875,
15:40:46.709 -> 1693,1403,1117,1164,1420,1874,
15:40:46.833 -> 1719,1418,1127,1171,1433,1900,
15:40:46.924 -> 1695,1408,1119,1163,1420,1873,
15:40:55.172 -> 1701,1408,1121,1165,1420,1879,
15:40:55.263 -> 1680,1399,1116,1157,1411,1865,
15:40:55.341 -> 1710,1411,1125,1167,1426,1894,
15:40:55.465 -> 1707,1414,1127,1169,1429,1894,
15:40:55.589 -> 1679,1397,1114,1158,1412,1860,
15:40:55.681 -> 1697,1407,1118,1162,1419,1881,
15:40:55.773 -> 1718,1416,1124,1172,1431,1902,
15:40:55.896 -> 1693,1406,1119,1163,1421,1874,
15:40:55.989 -> 1684,1400,1114,1156,1415,1864,
15:40:56.097 -> 1706,1413,1122,1163,1425,1890,
15:40:56.204 -> 1695,1405,1117,1161,1416,1870,
15:40:56.298 -> 1680,1397,1114,1158,1412,1861,
15:40:56.390 -> 1707,1411,1122,1166,1426,1888,
15:40:56.512 -> 1707,1412,1123,1167,1426,1888,
15:40:56.604 -> 1680,1399,1114,1158,1408,1861,
15:40:56.697 -> 1707,1412,1124,1165,1427,1891,
15:40:56.822 -> 1713,1414,1125,1167,1429,1897,
"""

# Extracting data from the string
lines = data.strip().split('\n')
timestamps = []
values = [[] for _ in range(6)]

for line in lines:
    parts = line.split('->')
    timestamp_str, values_str = parts[0].strip(), parts[1].strip()
    timestamp = datetime.strptime(timestamp_str, "%H:%M:%S.%f")
    timestamps.append(timestamp)
    
    values_list = list(map(int, values_str[:-1].split(',')))
    for i, v in enumerate(values_list):
        values[i].append(v)

# Plotting the data
plt.figure(figsize=(10, 6))
for i in range(6):
    plt.plot(timestamps, values[i], label=f'Value {i+1}')

plt.title('Values Over Time')
plt.xlabel('Timestamp')
plt.ylabel('Values')
plt.legend()
plt.xticks(rotation=45)
plt.tight_layout()
plt.show()

# Calculating and printing the average of each column
averages = [sum(col) / len(col) for col in values]
for i, avg in enumerate(averages):
    print(f'Average of Value {i+1}: {avg:.2f}')
